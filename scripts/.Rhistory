print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
str(newmodeldatawithpreds)
summary(newmodeldatawithpreds)
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
str(vect)
Modus(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
summary(newmodeldatawithpreds)
newmodeldatawithpreds
knitr::opts_chunk$set(echo = TRUE)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
#proj3path="/home/fabs/PROJECTP3"
proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
load('../data/dependentlists.RData')
i=1
filelist=c("../temporlarge/geom_10m_fl4_L9_Leben_Tr.RData","../temporlarge/geom_10m_fl4_L10_et_slope_DTM_50m_avg_ws7_Leben_Tr.RData","../temporlarge/geom_dtm_10m_hyd_fl5_L10_et_minic_ws9_hr_Leben_Tr.RData")
f=filelist[2]
for(f in filelist){
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
boxplot(cvaccs)
print(paste("mean accuracy = " , mean(cvaccs)))
print(paste("median accuracy = " , median(cvaccs)))
print("confusion table for mode of 100 predicitions")
print(table(newmodeldatawithpreds[[dep]],newmodeldatawithpreds[["moderesult"]]) )
print(mean(newmodeldatawithpreds[[dep]] == newmodeldatawithpreds[["moderesult"]]))
rm(modeldata,preddata,CM,hist,fit)
}
i=2
filelist=c("../temporlarge/geom_10m_fl10_L70_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/Longitudinal_Curvature_hr_et_geom_10m_fl10_L70_Leben_Fe.RData")
f=filelist[1]
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
boxplot(cvaccs)
print(paste("mean accuracy = " , mean(cvaccs)))
print(paste("median accuracy = " , median(cvaccs)))
print("confusion table for mode of 100 predicitions")
print(table(newmodeldatawithpreds[[dep]],newmodeldatawithpreds[["moderesult"]]) )
print(mean(newmodeldatawithpreds[[dep]] == newmodeldatawithpreds[["moderesult"]]))
summary(newmodeldatawithpreds)
i=2
filelist=c("../temporlarge/geom_10m_fl10_L70_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/Longitudinal_Curvature_hr_et_geom_10m_fl10_L70_Leben_Fe.RData")
f=filelist[1]
for(f in filelist){
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
newmodeldatawithpreds[[dep]] <- factor(newmodeldatawithpreds,levels = 1:5)
boxplot(cvaccs)
print(paste("mean accuracy = " , mean(cvaccs)))
print(paste("median accuracy = " , median(cvaccs)))
print("confusion table for mode of 100 predicitions")
print(table(newmodeldatawithpreds[[dep]],newmodeldatawithpreds[["moderesult"]]) )
print(mean(newmodeldatawithpreds[[dep]] == newmodeldatawithpreds[["moderesult"]]))
rm(modeldata,preddata,CM,hist,fit)
}
i=2
filelist=c("../temporlarge/geom_10m_fl10_L70_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/geom_10m_fl10_L70_et_CrossSectionalCurvature_hr_Leben_Fe.RData","../temporlarge/Longitudinal_Curvature_hr_et_geom_10m_fl10_L70_Leben_Fe.RData")
f=filelist[1]
for(f in filelist){
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
newmodeldatawithpreds[[dep]] <- factor(newmodeldatawithpreds[[dep]],levels = 1:5)
boxplot(cvaccs)
print(paste("mean accuracy = " , mean(cvaccs)))
print(paste("median accuracy = " , median(cvaccs)))
print("confusion table for mode of 100 predicitions")
print(table(newmodeldatawithpreds[[dep]],newmodeldatawithpreds[["moderesult"]]) )
print(mean(newmodeldatawithpreds[[dep]] == newmodeldatawithpreds[["moderesult"]]))
rm(modeldata,preddata,CM,hist,fit)
}
knitr::opts_chunk$set(echo = TRUE)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
proj3path="/home/fabs/PROJECTP3"
#proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
load('../data/dependentlists.RData')
i=1
filelist=c("../temporlarge/geom_10m_fl4_L9_Leben_Tr.RData","../temporlarge/geom_10m_fl4_L10_et_slope_DTM_50m_avg_ws7_Leben_Tr.RData","../temporlarge/geom_dtm_10m_hyd_fl5_L10_et_minic_ws9_hr_Leben_Tr.RData")
f=filelist[2]
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(table(modeldata["preds"]))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
print("what happens when CV is performed a 100 times")
cvaccs=vector()
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
newmodeldatawithpreds=newmodeldata
t=1
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cvaccs[t] = fit$tot.accuracy
colname=paste("predseed_",t,sep="")
newmodeldatawithpreds[[colname]] <- predict(fit,newdata=modeldata)
newmodeldatawithpreds[[colname]] <- factor(newmodeldatawithpreds[[colname]],levels=1:5)
}
ncols <- ncol(newmodeldatawithpreds)
startn = ncols-99
r=1
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
for (r in 1:nrow(newmodeldatawithpreds)){
vect <- newmodeldatawithpreds[r,c(startn:ncols)]
#vect <- as.character(vect)
newmodeldatawithpreds[r,"moderesult"] <- Modus(vect)
}
newmodeldatawithpreds[[dep]] <- factor(newmodeldatawithpreds[[dep]],levels = 1:5)
newmodeldatawithpreds[[dep]] <- factor(newmodeldatawithpreds[[dep]],levels = 1:5)
boxplot(cvaccs)
print(paste("mean accuracy = " , mean(cvaccs)))
print(paste("median accuracy = " , median(cvaccs)))
print("confusion table for mode of 100 predicitions")
print(table(newmodeldatawithpreds[[dep]],newmodeldatawithpreds[["moderesult"]]) )
print(mean(newmodeldatawithpreds[[dep]] == newmodeldatawithpreds[["moderesult"]]))
f
f=filelist[2]
predictors=paste(names(modeldata))
predictors=paste(names(modeldata),collapse="_")
newname=paste(names(modeldata),collapse="_")
save(newmodeldatawithpreds,cvaccs,file="cv100_",newname,".RData",sep="")
cvaccs
save(newmodeldatawithpreds,cvaccs,file=paste("cv100_",newname,".RData",sep=""))
19*2.5
29*2.5
getwe()
getwd()
9*2.5
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
load('./data/dependentlists.RData')
#proj3path="/home/fabs/PROJECTP3/"
proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
dependentlist
load('./data/dependentlists.RData')
load('../data/dependentlists.RData')
dependentlist
dep=dependentlist[1]
dependentnr=1
dependent=dependentlist[dependentnr]
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dependent,".RData",sep=""))
parameter=parameters[1]
parameters=c("geom_10m_fl4_L10","slope_DTM_50m_avg_ws7")
parameter=parameters[1]
parameter=parameters[2]
RFile="../data/rdataforstats/cv100_Leben_Tr_geom_10m_fl4_L10_slope_DTM_50m_avg_ws7_50m_preds.RData"
load(RFile)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
load('../data/dependentlists.RData')
#proj3path="/home/fabs/PROJECTP3/"
proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
dependentnr=1
#preddata[["preds"]] <- factor(preddata[["preds"]],levels=1:5)
dependent=dependentlist[dependentnr]
#load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dependent,".RData",sep=""))
predsgeom <- c("geom_dtm_10m_hyd_fl5_L10","geom_10m_fl3_L3" ,"geom_10m_fl4_L10","geom_10m_fl4_L9","geom_10m_fl8_L16","geom_10m_fl10_L70",
"geom_10m_fl10_L17","geom_10m_fl10_L6","geom_10m_fl8_L7", "geom_10m_fl10_L10" , "geom_10m_fl10_L27" ,"geom_10m_fl8_L11",
"geom_10m_fl10_L5","geom_dtm_10m_hyd_fl5_L5","geom_10m_fl10_L7","geom_10m_fl8_L50" ,"geom_10m_fl8_L9","geom_10m_fl1_L100",
"geom_10m_fl1_L10" ,"geom_10m_fl8_L28","geom_10m_fl10_L3" )
parameters=c("geom_10m_fl4_L10","slope_DTM_50m_avg_ws7")
parameter=parameters[2]
RFile="../data/rdataforstats/cv100_Leben_Tr_geom_10m_fl4_L10_slope_DTM_50m_avg_ws7_50m_preds.RData"
load(RFile)
str(newmodeldatawithpreds)
View(parameterboxplots)
names(newmodeldatawithpreds)
newmodeldatawithpreds[["preds"]] <- newmodeldatawithpreds[["moderesult"]]
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter)
parameter
parameters=c("geom_10m_fl4_L10","slope_DTM_50m_avg_ws7_50m")
parameter=parameters[2]
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter)
rdata="../data/rdataforstats/cv100_Leben_Tr_geom_10m_fl4_L10_slope_DTM_50m_avg_ws7_50m_preds.RData"
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter)
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
load('../data/dependentlists.RData')
#proj3path="/home/fabs/PROJECTP3/"
proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
dependentnr=1
#preddata[["preds"]] <- factor(preddata[["preds"]],levels=1:5)
dependent=dependentlist[dependentnr]
#load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dependent,".RData",sep=""))
predsgeom <- c("geom_dtm_10m_hyd_fl5_L10","geom_10m_fl3_L3" ,"geom_10m_fl4_L10","geom_10m_fl4_L9","geom_10m_fl8_L16","geom_10m_fl10_L70",
"geom_10m_fl10_L17","geom_10m_fl10_L6","geom_10m_fl8_L7", "geom_10m_fl10_L10" , "geom_10m_fl10_L27" ,"geom_10m_fl8_L11",
"geom_10m_fl10_L5","geom_dtm_10m_hyd_fl5_L5","geom_10m_fl10_L7","geom_10m_fl8_L50" ,"geom_10m_fl8_L9","geom_10m_fl1_L100",
"geom_10m_fl1_L10" ,"geom_10m_fl8_L28","geom_10m_fl10_L3" )
parameters=c("geom_10m_fl4_L10","slope_DTM_50m_avg_ws7_50m")
parameter=parameters[2]
RFile="../data/rdataforstats/cv100_Leben_Tr_geom_10m_fl4_L10_slope_DTM_50m_avg_ws7_50m_preds.RData"
load(RFile)
newmodeldatawithpreds[["preds"]] <- newmodeldatawithpreds[["moderesult"]]
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
par(mfcol=c(5,2))
for (i in 1:5){
geombarplot(geomcol=parameter,thema=dependent,data=origmodeldata,einheit=i)
}
for (i in 1:5){
geombarplot(geomcol=parameter,thema="preds",data=preddata,einheit=i)
}
}else {
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
}
dev.off()
pdf(paste("../temporlarge/RPLOTS/",parameter,"_",dependent,".pdf",sep=""),paper = "a4")
if(parameter %in% predsgeom){
par(mfcol=c(5,2))
for (i in 1:5){
geombarplot(geomcol=parameter,thema=dependent,data=origmodeldata,einheit=i)
}
for (i in 1:5){
geombarplot(geomcol=parameter,thema="preds",data=preddata,einheit=i)
}
}else {
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
}
dev.off()
pdf(paste("../Figures/RPLOTS/",parameter,"_",dependent,".pdf",sep=""),paper = "a4")
if(parameter %in% predsgeom){
par(mfcol=c(5,2))
for (i in 1:5){
geombarplot(geomcol=parameter,thema=dependent,data=origmodeldata,einheit=i)
}
for (i in 1:5){
geombarplot(geomcol=parameter,thema="preds",data=preddata,einheit=i)
}
}else {
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
}
dev.off()
for(parameter in parameters){
pdf(paste("../Figures/RPLOTS/",parameter,"_",dependent,".pdf",sep=""),paper = "a4")
if(parameter %in% predsgeom){
par(mfcol=c(5,2))
for (i in 1:5){
geombarplot(geomcol=parameter,thema=dependent,data=newmodeldatawithpreds,einheit=i)
}
for (i in 1:5){
geombarplot(geomcol=parameter,thema="preds",data=preddata,einheit=i)
}
}else {
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
}
dev.off()
}
geombarplot(geomcol=parameter,thema="preds",data=newmodeldatawithpreds,einheit=i)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
load('../data/dependentlists.RData')
#proj3path="/home/fabs/PROJECTP3/"
proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
dependentnr=1
#preddata[["preds"]] <- factor(preddata[["preds"]],levels=1:5)
dependent=dependentlist[dependentnr]
#load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dependent,".RData",sep=""))
predsgeom <- c("geom_dtm_10m_hyd_fl5_L10","geom_10m_fl3_L3" ,"geom_10m_fl4_L10","geom_10m_fl4_L9","geom_10m_fl8_L16","geom_10m_fl10_L70",
"geom_10m_fl10_L17","geom_10m_fl10_L6","geom_10m_fl8_L7", "geom_10m_fl10_L10" , "geom_10m_fl10_L27" ,"geom_10m_fl8_L11",
"geom_10m_fl10_L5","geom_dtm_10m_hyd_fl5_L5","geom_10m_fl10_L7","geom_10m_fl8_L50" ,"geom_10m_fl8_L9","geom_10m_fl1_L100",
"geom_10m_fl1_L10" ,"geom_10m_fl8_L28","geom_10m_fl10_L3" )
parameters=c("geom_10m_fl4_L10","slope_DTM_50m_avg_ws7_50m")
parameter=parameters[2]
RFile="../data/rdataforstats/cv100_Leben_Tr_geom_10m_fl4_L10_slope_DTM_50m_avg_ws7_50m_preds.RData"
load(RFile)
newmodeldatawithpreds[["preds"]] <- newmodeldatawithpreds[["moderesult"]]
i=1
geombarplot(geomcol=parameter,thema=dependent,data=newmodeldatawithpreds,einheit=i)
geombarplot(geomcol=parameter,thema="preds",data=newmodeldatawithpreds,einheit=i,rdata=RFile)
geombarplot(geomcol=parameter,thema=dependent,data=newmodeldatawithpreds,einheit=i,rdata=RFile)
for(parameter in parameters){
pdf(paste("../Figures/RPLOTS/",parameter,"_",dependent,".pdf",sep=""),paper = "a4")
if(parameter %in% predsgeom){
par(mfcol=c(5,2))
for (i in 1:5){
geombarplot(geomcol=parameter,thema=dependent,data=newmodeldatawithpreds,einheit=i,rdata=RFile)
}
for (i in 1:5){
geombarplot(geomcol=parameter,thema="preds",data=newmodeldatawithpreds,einheit=i,rdata=RFile)
}
}else {
parameterboxplots(origmodeldata = newmodeldatawithpreds,preddata=newmodeldatawithpreds,dependent=dependent,parameter=parameter,rdata=RFile)
}
dev.off()
}
