knitr::opts_chunk$set(echo = TRUE)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
proj3path="/home/fabs/PROJECTP3"
#proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
load('../data/dependentlists.RData')
i=1
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=paste("/mnt/bola/rebo/5_Daten/Fabian_ausmisten/fits/","geom_10m_fl4_L10_et_slope_DTM_50m_avg_ws7_Leben_Tr.RData",sep=""))
setwd(proj3path)
knitr::opts_chunk$set(echo = TRUE)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
proj3path="/home/fabs/PROJECTP3"
#proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
load('../data/dependentlists.RData')
load(file="../temporlarge/geom_10m_fl4_L9_Leben_Tr.RData")
load(file=file)
file="../temporlarge/geom_10m_fl4_L9_Leben_Tr.RData"
load(file=file)
print(file)
print(CM)
print(hist)
print(table(modeldata[dependent]))
print(paste("original distribution: \n"))
print(table(modeldata[dependent]))
print(file)
print(CM)
print(CM)
print(hist)
print(paste("predicted distribution"))
print(hist)
knitr::opts_chunk$set(echo = TRUE)
require(e1071)
require(RCurl)
require(repmis)
require(randomForest)
require(rgdal)
myfunctions <- getURL("https://raw.githubusercontent.com/fernstgruber/Rstuff/master/fabiansandrossitersfunctions.R", ssl.verifypeer = FALSE)
eval(parse(text = myfunctions))
proj3path="/home/fabs/PROJECTP3"
#proj3path="/media/fabs/Volume/01_PAPERZEUG/PROJECTP3/"
#setwd(proj3path)
load('../data/dependentlists.RData')
i=1
filelist=c("../temporlarge/geom_10m_fl4_L9_Leben_Tr.RData","../temporlarge/geom_10m_fl4_L10_et_slope_DTM_50m_avg_ws7_Leben_Tr.RData","../temporlarge/geom_dtm_10m_hyd_fl5_L10_et_minic_ws9_hr_Leben_Tr.RData")
f=filelist[1]
dep=dependentlist[i]
print(dependentlist_eng[i])
load(paste("../data/modeldata/SVMorigmodeldatawithgeoandgeom_",dep,".RData",sep=""))
load(file=f)
print(paste("10fold cross-validated accuracy from main modelrunf: ",fit$tot.accuracy))
print(paste("original distribution: "))
print(table(modeldata[dependent]))
print(paste("predicted distribution of soil pit sites"))
print(paste("confusion matrix"))
print(CM)
print(paste("predicted distribution of study area"))
print(hist)
cverrors=vector()
dep
fit <- svm(data=modeldata,dep~.,cross=10)
names(modeldat)
names(modeldata)
newmodeldata = modeldata[-"preds"]
newmodeldata = modeldata[-c("preds"()]
newmodeldata = modeldata[-c("preds")]
newmodeldata = modeldata[!(names(modeldata) %in% c("preds"))]
fit <- svm(data=newmodeldata,dep~.,cross=10)
summary(newmodeldata)
str(newmodeldata)
?svm
fit <- svm(data=newmodeldata,formula=as.character(dep~.),cross=10)
formel=as.formula(paste(as.character(dep),"~.",sep="")
fit <- svm(data=newmodeldata,formula=as.character(dep~.),cross=10)
formel=as.formula(paste(as.character(dep),"~.",sep=""))
formel
fit <- svm(data=newmodeldata,formula=formel,cross=10)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
for (t in 1:100){
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cverrors[t] = 1-(fit$tot.accuracy)/100
}
print(hist(cverrors))
hist(cverrors)
hist(cverrors)
cverrors
for (t in 1:100){
set.seed(t)
f <- paste(dep,"~.")
fit <- do.call("svm",list(as.formula(f),modeldata,cross=10))
cverrors[t] = 1-(fit$tot.accuracy)/100
}
hist(cverrors)
summary(cverrors)
